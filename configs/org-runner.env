# ==========================================
# 组织级别 GitHub Runner 配置
# ==========================================
# 此 Runner 可以被组织内所有仓库使用

# ==========================================
# REQUIRED CONFIGURATION
# ==========================================

# GitHub Personal Access Token
# 重要：组织级别 Runner 需要 'admin:org' 权限
# 创建 Token: https://github.com/settings/tokens
# 选择权限: admin:org (Full control of orgs and teams, read and write org projects)
GITHUB_TOKEN=your_github_token_with_admin_org_scope

# GitHub 组织名称
GITHUB_OWNER=your_org_name

# ==========================================
# RUNNER SCOPE - 组织级别
# ==========================================

# Runner 范围设置为 org
RUNNER_SCOPE=org

# 注意：组织级别 Runner 不需要设置 GITHUB_REPOSITORY
# GITHUB_REPOSITORY 留空或删除此行

# ==========================================
# RUNNER CONFIGURATION
# ==========================================

# Runner 名称（建议使用有意义的名称）
RUNNER_NAME=org-shared-runner-1

# Runner 标签（所有仓库都可以通过这些标签调度此 Runner）
# 建议添加组织特定的标签
RUNNER_LABELS=self-hosted,linux,x64,docker,org-runner

# Runner 工作目录
RUNNER_WORKDIR=_work

# Runner 组（用于组织 Runner 管理）
RUNNER_GROUP=default

# 临时 Runner（运行一个任务后退出）
# 组织级别通常设置为 false 以供多个仓库复用
EPHEMERAL=false

# 禁用自动更新
DISABLE_AUTO_UPDATE=true

# ==========================================
# CONTAINER CONFIGURATION
# ==========================================

# 容器名称
CONTAINER_NAME=org-github-runner

# Runner Docker 镜像
RUNNER_IMAGE=ghcr.io/tricorefile/github-runner-universal:latest

# Runner 平台
RUNNER_PLATFORM=linux/amd64

# 重启策略
RESTART_POLICY=unless-stopped

# ==========================================
# RESOURCE LIMITS
# ==========================================

# CPU 限制（组织级别建议适当增加资源）
CPU_LIMIT=6
CPU_RESERVATION=2

# 内存限制（组织级别建议适当增加资源）
MEMORY_LIMIT=12G
MEMORY_RESERVATION=4G

# ==========================================
# VOLUME MOUNTS
# ==========================================

# 工作目录
WORK_DIR=./work

# 缓存目录（所有仓库共享，提高构建速度）
CARGO_CACHE=./cache/cargo
NPM_CACHE=./cache/npm
MAVEN_CACHE=./cache/maven
GRADLE_CACHE=./cache/gradle

# 工具目录
TOOLS_DIR=./tools

# SSH 目录
SSH_DIR=./ssh

# ==========================================
# NETWORK CONFIGURATION
# ==========================================

# Docker 网络名称
NETWORK_NAME=org-runner-network